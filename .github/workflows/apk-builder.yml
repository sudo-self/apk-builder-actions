    - name: Find APK
      id: find-apk
      run: |
        cd android-project
        APK_PATH=$(find . -name "*.apk" -type f | head -1)
        echo "APK_PATH=$APK_PATH" >> $GITHUB_OUTPUT
        echo "Found APK: $APK_PATH"
        
        # Get full path for upload
        FULL_APK_PATH="android-project/$APK_PATH"
        echo "FULL_APK_PATH=$FULL_APK_PATH" >> $GITHUB_OUTPUT
        echo "ðŸ“ Full path: $FULL_APK_PATH"
        
        # Verify file exists
        if [ -f "$FULL_APK_PATH" ]; then
          APK_SIZE=$(du -h "$FULL_APK_PATH" | cut -f1)
          echo "APK_SIZE=$APK_SIZE" >> $GITHUB_OUTPUT
          echo "APK Size: $APK_SIZE"
          echo "APK file verified"
        else
          echo "APK file not found at full path"
        fi
        
    - name: Upload APK Artifact
      if: steps.find-apk.outputs.FULL_APK_PATH
      uses: actions/upload-artifact@v4
      with:
        name: apk-${{ github.event.client_payload.buildId || github.event.inputs.buildId }}
        path: ${{ steps.find-apk.outputs.FULL_APK_PATH }}
        retention-days: 7
